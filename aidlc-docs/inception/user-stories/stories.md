# User Stories

## 목차
1. [고객 주문 프로세스](#고객-주문-프로세스)
2. [관리자 운영 프로세스](#관리자-운영-프로세스)
3. [비기능 요구사항](#비기능-요구사항)

---

## 고객 주문 프로세스

### Epic 1: 고객 주문 여정

#### US-001: 테이블 태블릿 자동 로그인 [MVP]

**As a** 고객  
**I want** 테이블 태블릿에서 별도 로그인 없이 자동으로 메뉴 화면에 접근하고 싶다  
**So that** 즉시 주문을 시작할 수 있다

**Acceptance Criteria:**
- **Given** 테이블 태블릿이 이미 초기 설정되어 있고
- **When** 태블릿 화면을 켜면
- **Then** 자동으로 해당 테이블의 메뉴 화면이 표시된다

- **Given** 테이블 태블릿이 초기 설정되지 않았고
- **When** 관리자가 매장 식별자, 테이블 번호, 테이블 비밀번호를 입력하면
- **Then** 로그인 정보가 localStorage에 저장되고 자동 로그인이 활성화된다

- **Given** 자동 로그인이 활성화된 태블릿에서
- **When** 페이지를 새로고침하거나 브라우저를 재시작하면
- **Then** 저장된 정보로 자동 로그인되어 메뉴 화면이 표시된다

- **Given** 잘못된 로그인 정보가 저장되어 있고
- **When** 자동 로그인을 시도하면
- **Then** 에러 메시지가 표시되고 재설정을 요청한다

**Error Scenarios:**
- 네트워크 연결 실패 시 에러 메시지 표시
- 유효하지 않은 매장 식별자 입력 시 검증 실패 메시지
- 유효하지 않은 테이블 번호 입력 시 검증 실패 메시지
- localStorage 접근 불가 시 대체 방안 안내

---

#### US-002: 메뉴 카테고리별 조회 [MVP]

**As a** 고객  
**I want** 메뉴를 카테고리별로 탐색하고 싶다  
**So that** 원하는 메뉴를 쉽게 찾을 수 있다

**Acceptance Criteria:**
- **Given** 메뉴 화면에 접근했을 때
- **When** 화면을 보면
- **Then** 카테고리 목록이 표시되고 기본 카테고리의 메뉴들이 카드 형태로 표시된다

- **Given** 메뉴 화면에서
- **When** 특정 카테고리를 선택하면
- **Then** 해당 카테고리의 메뉴들만 필터링되어 표시된다

- **Given** 메뉴 카드를 볼 때
- **When** 각 메뉴 카드를 확인하면
- **Then** 메뉴명, 가격, 설명, 이미지가 명확하게 표시된다

- **Given** 터치 디바이스에서 메뉴를 탐색할 때
- **When** 버튼이나 카드를 터치하면
- **Then** 최소 44x44px 크기로 터치하기 쉽게 설계되어 있다

**Error Scenarios:**
- 메뉴 데이터 로딩 실패 시 재시도 옵션 제공
- 이미지 로딩 실패 시 플레이스홀더 이미지 표시
- 빈 카테고리 선택 시 "메뉴가 없습니다" 메시지 표시

---

#### US-003: 메뉴 상세 정보 확인 [MVP]

**As a** 고객  
**I want** 메뉴의 상세 정보를 확인하고 싶다  
**So that** 주문 전에 메뉴에 대해 충분히 이해할 수 있다

**Acceptance Criteria:**
- **Given** 메뉴 카드를 볼 때
- **When** 메뉴 카드를 클릭하면
- **Then** 메뉴 상세 정보 (이름, 가격, 설명, 이미지)가 확대되어 표시된다

- **Given** 메뉴 상세 화면에서
- **When** 정보를 확인한 후
- **Then** "장바구니에 추가" 버튼 또는 "닫기" 버튼을 선택할 수 있다

**Error Scenarios:**
- 메뉴 상세 정보 로딩 실패 시 에러 메시지 표시
- 이미지가 없는 경우 기본 이미지 표시

---

#### US-004: 장바구니에 메뉴 추가 [MVP]

**As a** 고객  
**I want** 선택한 메뉴를 장바구니에 추가하고 싶다  
**So that** 주문 전에 여러 메뉴를 모아둘 수 있다

**Acceptance Criteria:**
- **Given** 메뉴 화면에서
- **When** 메뉴의 "추가" 버튼을 클릭하면
- **Then** 해당 메뉴가 장바구니에 추가되고 시각적 피드백이 표시된다

- **Given** 장바구니에 메뉴가 추가되었을 때
- **When** 장바구니 아이콘을 확인하면
- **Then** 장바구니에 담긴 메뉴 개수가 배지로 표시된다

- **Given** 장바구니에 메뉴를 추가할 때
- **When** 추가 작업이 완료되면
- **Then** 장바구니 데이터가 localStorage에 저장된다

**Error Scenarios:**
- localStorage 저장 실패 시 경고 메시지 표시
- 동일 메뉴 중복 추가 시 수량 증가로 처리

---

#### US-005: 장바구니 내용 관리 [MVP]

**As a** 고객  
**I want** 장바구니에 담긴 메뉴를 수정하거나 삭제하고 싶다  
**So that** 주문 전에 내용을 조정할 수 있다

**Acceptance Criteria:**
- **Given** 장바구니 화면에 접근했을 때
- **When** 장바구니를 열면
- **Then** 담긴 메뉴 목록, 각 메뉴의 수량, 단가, 소계가 표시된다

- **Given** 장바구니에 메뉴가 있을 때
- **When** 수량 증가 버튼을 클릭하면
- **Then** 해당 메뉴의 수량이 1 증가하고 총 금액이 재계산된다

- **Given** 장바구니에 메뉴가 있을 때
- **When** 수량 감소 버튼을 클릭하면
- **Then** 해당 메뉴의 수량이 1 감소하고 총 금액이 재계산된다

- **Given** 메뉴 수량이 1일 때
- **When** 수량 감소 버튼을 클릭하면
- **Then** 해당 메뉴가 장바구니에서 제거된다

- **Given** 장바구니에 메뉴가 있을 때
- **When** 삭제 버튼을 클릭하면
- **Then** 확인 없이 즉시 해당 메뉴가 장바구니에서 제거된다

- **Given** 장바구니에 메뉴가 있을 때
- **When** "장바구니 비우기" 버튼을 클릭하면
- **Then** 확인 팝업이 표시되고 확인 시 모든 메뉴가 제거된다

- **Given** 장바구니 내용이 변경될 때
- **When** 변경 작업이 완료되면
- **Then** 변경된 내용이 localStorage에 자동 저장된다

**Error Scenarios:**
- 수량이 0 이하로 내려가지 않도록 검증
- localStorage 저장 실패 시 경고 메시지
- 빈 장바구니에서 "비우기" 버튼 비활성화

---

#### US-006: 장바구니 지속성 유지 [MVP]

**As a** 고객  
**I want** 페이지를 새로고침해도 장바구니 내용이 유지되기를 원한다  
**So that** 실수로 페이지를 닫아도 다시 메뉴를 선택할 필요가 없다

**Acceptance Criteria:**
- **Given** 장바구니에 메뉴가 담겨 있을 때
- **When** 페이지를 새로고침하면
- **Then** 장바구니 내용이 그대로 유지된다

- **Given** 장바구니에 메뉴가 담겨 있을 때
- **When** 브라우저를 닫았다가 다시 열면
- **Then** 장바구니 내용이 localStorage에서 복원된다

**Error Scenarios:**
- localStorage 데이터 손상 시 빈 장바구니로 초기화
- localStorage 용량 초과 시 경고 메시지

---

#### US-007: 주문 생성 및 확정 [MVP]

**As a** 고객  
**I want** 장바구니의 메뉴를 주문으로 확정하고 싶다  
**So that** 주방에서 음식을 준비할 수 있다

**Acceptance Criteria:**
- **Given** 장바구니에 메뉴가 있을 때
- **When** "주문하기" 버튼을 클릭하면
- **Then** 주문 확인 화면이 표시되고 메뉴 목록과 총 금액이 표시된다

- **Given** 주문 확인 화면에서
- **When** "확정" 버튼을 클릭하면
- **Then** 주문이 서버로 전송되고 주문 번호가 생성된다

- **Given** 주문이 성공적으로 생성되었을 때
- **When** 주문 완료 화면이 표시되면
- **Then** 주문 번호가 표시되고 장바구니가 자동으로 비워진다

- **Given** 주문 완료 화면이 표시되었을 때
- **When** 5초 후
- **Then** 자동으로 메뉴 화면으로 리다이렉트된다

- **Given** 주문 생성 중
- **When** 서버 에러가 발생하면
- **Then** 에러 메시지가 인라인으로 표시되고 장바구니 내용은 유지된다

**Error Scenarios:**
- 빈 장바구니로 주문 시도 시 "장바구니가 비어있습니다" 메시지
- 네트워크 에러 시 재시도 옵션 제공
- 서버 에러 시 구체적인 에러 메시지 표시
- 세션 만료 시 재로그인 요청

---

#### US-008: 주문 내역 조회 [MVP]

**As a** 고객  
**I want** 내가 주문한 내역을 확인하고 싶다  
**So that** 무엇을 주문했는지 확인하고 추가 주문을 결정할 수 있다

**Acceptance Criteria:**
- **Given** 메뉴 화면에서
- **When** "주문 내역" 버튼을 클릭하면
- **Then** 현재 테이블 세션의 주문 목록이 시간 역순으로 표시된다

- **Given** 주문 내역 화면에서
- **When** 각 주문을 확인하면
- **Then** 주문 번호, 주문 시각, 메뉴 목록, 수량, 금액, 주문 상태가 표시된다

- **Given** 주문 내역 화면에서
- **When** 주문 상태를 확인하면
- **Then** "대기중", "준비중", "완료" 중 하나의 상태가 표시된다

- **Given** 현재 테이블 세션이 종료되었을 때
- **When** 주문 내역을 조회하면
- **Then** 이전 세션의 주문은 표시되지 않는다

**Error Scenarios:**
- 주문 내역 로딩 실패 시 재시도 옵션
- 주문이 없을 때 "주문 내역이 없습니다" 메시지
- 네트워크 에러 시 캐시된 데이터 표시 (가능한 경우)

---

## 관리자 운영 프로세스

### Epic 2: 관리자 운영 여정

#### US-009: 관리자 로그인 [MVP]

**As a** 매장 운영자  
**I want** 관리자 시스템에 로그인하고 싶다  
**So that** 주문을 관리하고 매장을 운영할 수 있다

**Acceptance Criteria:**
- **Given** 관리자 로그인 화면에서
- **When** 매장 식별자, 사용자명, 비밀번호를 입력하고 로그인 버튼을 클릭하면
- **Then** JWT 토큰이 생성되고 localStorage에 저장된다

- **Given** 로그인이 성공했을 때
- **When** 토큰이 저장되면
- **Then** 관리자 대시보드로 리다이렉트된다

- **Given** JWT 토큰이 localStorage에 저장되어 있을 때
- **When** 페이지를 새로고침하거나 브라우저를 재시작하면
- **Then** 저장된 토큰으로 자동 로그인되어 대시보드가 표시된다

- **Given** JWT 토큰이 발급된 후
- **When** 16시간이 경과하면
- **Then** 토큰이 만료되고 자동으로 로그아웃된다

- **Given** 로그인 시도 시
- **When** 잘못된 인증 정보를 입력하면
- **Then** "인증 실패" 에러 메시지가 인라인으로 표시된다

**Error Scenarios:**
- 빈 필드로 로그인 시도 시 "모든 필드를 입력해주세요" 메시지
- 네트워크 에러 시 "서버 연결 실패" 메시지
- 유효하지 않은 매장 식별자 입력 시 "존재하지 않는 매장입니다" 메시지
- localStorage 접근 불가 시 경고 메시지

---

#### US-010: 실시간 주문 대시보드 모니터링 [MVP]

**As a** 매장 운영자  
**I want** 모든 테이블의 주문 현황을 실시간으로 한눈에 보고 싶다  
**So that** 효율적으로 주문을 관리할 수 있다

**Acceptance Criteria:**
- **Given** 관리자 대시보드에 접근했을 때
- **When** 화면을 보면
- **Then** 활성 테이블들이 그리드 레이아웃으로 표시된다

- **Given** 대시보드에서 테이블 카드를 볼 때
- **When** 각 테이블 카드를 확인하면
- **Then** 테이블 번호, 총 주문액, 최신 주문 n개 미리보기가 표시된다

- **Given** 새로운 주문이 생성되었을 때
- **When** SSE를 통해 업데이트를 받으면
- **Then** 2초 이내에 해당 테이블 카드가 업데이트되고 시각적으로 강조된다

- **Given** 대시보드에서
- **When** 주문이 없는 테이블은
- **Then** 기본적으로 표시되지 않는다 (활성 테이블만 표시)

**Error Scenarios:**
- SSE 연결 실패 시 "실시간 업데이트 연결 실패" 알림
- 데이터 로딩 실패 시 재시도 옵션
- 빈 대시보드일 때 "현재 활성 주문이 없습니다" 메시지

---

#### US-011: 주문 상세 정보 확인 [MVP]

**As a** 매장 운영자  
**I want** 테이블의 주문 상세 정보를 확인하고 싶다  
**So that** 정확한 주문 내용을 파악할 수 있다

**Acceptance Criteria:**
- **Given** 대시보드에서 테이블 카드를 볼 때
- **When** 테이블 카드를 클릭하면
- **Then** 해당 테이블의 전체 주문 목록이 상세 보기로 표시된다

- **Given** 주문 상세 보기에서
- **When** 각 주문을 확인하면
- **Then** 주문 번호, 시각, 메뉴 목록, 수량, 단가, 총 금액, 상태가 표시된다

- **Given** 주문 상세 보기에서
- **When** "닫기" 버튼을 클릭하면
- **Then** 대시보드로 돌아간다

**Error Scenarios:**
- 주문 상세 정보 로딩 실패 시 에러 메시지
- 삭제된 주문 접근 시 "주문을 찾을 수 없습니다" 메시지

---

#### US-012: 주문 상태 변경 [MVP]

**As a** 매장 운영자  
**I want** 주문의 상태를 변경하고 싶다  
**So that** 주문 진행 상황을 추적할 수 있다

**Acceptance Criteria:**
- **Given** 주문 상세 보기 또는 테이블 카드에서
- **When** 주문 상태 드롭다운을 클릭하면
- **Then** "대기중", "준비중", "완료" 옵션이 표시된다

- **Given** 주문 상태가 "대기중"일 때
- **When** "준비중" 또는 "완료"로 변경하면
- **Then** 상태가 즉시 업데이트되고 고객 화면에도 반영된다

- **Given** 주문 상태가 "준비중"일 때
- **When** "완료"로 변경하면
- **Then** 상태가 업데이트된다

- **Given** 주문 상태 변경 시
- **When** "대기중"을 건너뛰고 "완료"로 직접 변경하면
- **Then** 변경이 허용된다 (부분 강제)

**Error Scenarios:**
- 상태 변경 실패 시 이전 상태로 롤백 및 에러 메시지
- 네트워크 에러 시 재시도 옵션
- 이미 삭제된 주문의 상태 변경 시도 시 에러 메시지

---

#### US-013: SSE 실시간 업데이트 [MVP]

**As a** 매장 운영자  
**I want** 새로운 주문이 들어오면 자동으로 화면이 업데이트되기를 원한다  
**So that** 수동으로 새로고침하지 않아도 최신 정보를 볼 수 있다

**Acceptance Criteria:**
- **Given** 관리자 대시보드가 열려 있을 때
- **When** SSE 연결이 설정되면
- **Then** 서버로부터 실시간 업데이트를 받을 준비가 된다

- **Given** SSE 연결이 활성화되어 있을 때
- **When** 새로운 주문이 생성되면
- **Then** 초기 연결 시 전체 주문 목록을 받고, 이후 변경된 주문만 증분 업데이트를 받는다 (하이브리드 방식)

- **Given** SSE 연결이 끊어졌을 때
- **When** 연결 실패가 감지되면
- **Then** 자동으로 재연결을 시도하고 (지수 백오프) 사용자에게 알림을 표시한다

- **Given** SSE 재연결이 성공했을 때
- **When** 연결이 복구되면
- **Then** "연결 복구됨" 알림을 표시하고 최신 데이터를 동기화한다

**Error Scenarios:**
- SSE 연결 실패 시 "실시간 업데이트 연결 실패" 알림 및 수동 새로고침 옵션
- 재연결 시도 횟수 초과 시 "서버 연결 불가" 메시지
- 네트워크 불안정 시 연결 상태 표시

---

#### US-014: 테이블 태블릿 초기 설정 [MVP]

**As a** 매장 운영자  
**I want** 새로운 테이블 태블릿을 설정하고 싶다  
**So that** 고객이 해당 테이블에서 주문할 수 있다

**Acceptance Criteria:**
- **Given** 관리자 대시보드의 테이블 관리 섹션에서
- **When** "테이블 추가" 버튼을 클릭하면
- **Then** 테이블 번호와 테이블 비밀번호 입력 폼이 표시된다

- **Given** 테이블 추가 폼에서
- **When** 테이블 번호와 비밀번호를 입력하고 저장하면
- **Then** 새로운 테이블이 생성되고 16시간 세션이 시작된다

- **Given** 테이블이 생성되었을 때
- **When** 생성이 완료되면
- **Then** 테이블 설정 정보 (매장 ID, 테이블 번호, 비밀번호)가 표시되어 태블릿에 입력할 수 있다

**Error Scenarios:**
- 중복된 테이블 번호 입력 시 "이미 존재하는 테이블입니다" 메시지
- 빈 필드로 저장 시도 시 "모든 필드를 입력해주세요" 메시지
- 네트워크 에러 시 재시도 옵션

---

#### US-015: 주문 삭제 (직권 수정) [MVP]

**As a** 매장 운영자  
**I want** 잘못된 주문을 삭제하고 싶다  
**So that** 실수로 생성된 주문을 제거할 수 있다

**Acceptance Criteria:**
- **Given** 주문 상세 보기 또는 테이블 카드에서
- **When** 주문의 "삭제" 버튼을 클릭하면
- **Then** "정말 삭제하시겠습니까?" 확인 팝업이 표시된다

- **Given** 삭제 확인 팝업에서
- **When** "확인"을 클릭하면
- **Then** 주문이 즉시 삭제되고 테이블 총 주문액이 재계산된다

- **Given** 주문이 삭제되었을 때
- **When** 삭제가 완료되면
- **Then** "주문이 삭제되었습니다" 성공 메시지가 표시된다

- **Given** 삭제 확인 팝업에서
- **When** "취소"를 클릭하면
- **Then** 삭제가 취소되고 팝업이 닫힌다

**Error Scenarios:**
- 삭제 실패 시 "주문 삭제 실패" 에러 메시지
- 이미 삭제된 주문 삭제 시도 시 "주문을 찾을 수 없습니다" 메시지
- 네트워크 에러 시 재시도 옵션

---

#### US-016: 테이블 세션 종료 (매장 이용 완료) [MVP]

**As a** 매장 운영자  
**I want** 고객이 퇴장할 때 테이블 세션을 종료하고 싶다  
**So that** 다음 고객이 깨끗한 상태에서 시작할 수 있다

**Acceptance Criteria:**
- **Given** 테이블 카드 또는 테이블 관리 화면에서
- **When** "매장 이용 완료" 버튼을 클릭하면
- **Then** "테이블 세션을 종료하시겠습니까?" 확인 팝업이 표시된다

- **Given** 세션 종료 확인 팝업에서
- **When** "확인"을 클릭하면
- **Then** 해당 세션의 모든 주문이 과거 이력(OrderHistory)으로 이동된다

- **Given** 세션이 종료되었을 때
- **When** 종료가 완료되면
- **Then** 테이블의 현재 주문 목록과 총 주문액이 0으로 리셋된다

- **Given** 세션이 종료된 테이블에서
- **When** 새로운 고객이 주문하면
- **Then** 새로운 세션 ID(UUID)가 생성되고 이전 주문 내역은 보이지 않는다

**Error Scenarios:**
- 세션 종료 실패 시 "세션 종료 실패" 에러 메시지
- 이미 종료된 세션 종료 시도 시 "활성 세션이 없습니다" 메시지
- 네트워크 에러 시 재시도 옵션

---

#### US-017: 과거 주문 내역 조회 [MVP]

**As a** 매장 운영자  
**I want** 테이블의 과거 주문 내역을 조회하고 싶다  
**So that** 이전 고객들의 주문 기록을 확인할 수 있다

**Acceptance Criteria:**
- **Given** 테이블 관리 화면에서
- **When** "과거 내역" 버튼을 클릭하면
- **Then** 해당 테이블의 과거 주문 목록이 시간 역순으로 표시된다

- **Given** 과거 주문 내역 화면에서
- **When** 각 주문을 확인하면
- **Then** 주문 번호, 시각, 메뉴 목록, 총 금액, 매장 이용 완료 시각이 표시된다

- **Given** 과거 주문 내역 화면에서
- **When** 날짜 필터를 선택하면
- **Then** 선택한 날짜 범위의 주문만 필터링되어 표시된다

- **Given** 과거 주문 내역 화면에서
- **When** "닫기" 버튼을 클릭하면
- **Then** 대시보드로 돌아간다

**Error Scenarios:**
- 과거 내역 로딩 실패 시 재시도 옵션
- 과거 내역이 없을 때 "과거 주문 내역이 없습니다" 메시지
- 날짜 필터 적용 실패 시 에러 메시지

---

#### US-018: 메뉴 조회 [MVP]

**As a** 매장 운영자  
**I want** 현재 등록된 메뉴 목록을 조회하고 싶다  
**So that** 어떤 메뉴가 있는지 확인할 수 있다

**Acceptance Criteria:**
- **Given** 관리자 대시보드의 메뉴 관리 섹션에서
- **When** 메뉴 관리 화면에 접근하면
- **Then** 카테고리별로 그룹화된 메뉴 목록이 표시된다

- **Given** 메뉴 목록에서
- **When** 각 메뉴를 확인하면
- **Then** 메뉴명, 가격, 설명, 카테고리, 이미지 썸네일이 표시된다

- **Given** 메뉴 목록에서
- **When** 카테고리 필터를 선택하면
- **Then** 해당 카테고리의 메뉴만 표시된다

**Error Scenarios:**
- 메뉴 목록 로딩 실패 시 재시도 옵션
- 메뉴가 없을 때 "등록된 메뉴가 없습니다" 메시지

---

#### US-019: 메뉴 등록 [MVP]

**As a** 매장 운영자  
**I want** 새로운 메뉴를 등록하고 싶다  
**So that** 고객이 새로운 메뉴를 주문할 수 있다

**Acceptance Criteria:**
- **Given** 메뉴 관리 화면에서
- **When** "메뉴 추가" 버튼을 클릭하면
- **Then** 메뉴 등록 폼이 표시된다

- **Given** 메뉴 등록 폼에서
- **When** 메뉴명, 가격, 설명, 카테고리, 이미지(Base64)를 입력하고 저장하면
- **Then** 새로운 메뉴가 생성되고 메뉴 목록에 추가된다

- **Given** 메뉴 등록 시
- **When** 필수 필드(메뉴명, 가격, 카테고리)가 비어있으면
- **Then** "필수 필드를 입력해주세요" 검증 메시지가 표시된다

- **Given** 메뉴 등록 시
- **When** 가격이 0 이하이거나 숫자가 아니면
- **Then** "유효한 가격을 입력해주세요" 검증 메시지가 표시된다

**Error Scenarios:**
- 중복된 메뉴명 입력 시 경고 메시지 (허용하되 경고)
- 이미지 Base64 인코딩 실패 시 에러 메시지
- 네트워크 에러 시 재시도 옵션
- 카테고리가 존재하지 않을 때 에러 메시지

---

#### US-020: 메뉴 수정 [MVP]

**As a** 매장 운영자  
**I want** 기존 메뉴 정보를 수정하고 싶다  
**So that** 가격이나 설명을 업데이트할 수 있다

**Acceptance Criteria:**
- **Given** 메뉴 목록에서
- **When** 메뉴의 "수정" 버튼을 클릭하면
- **Then** 해당 메뉴의 정보가 미리 채워진 수정 폼이 표시된다

- **Given** 메뉴 수정 폼에서
- **When** 정보를 변경하고 저장하면
- **Then** 메뉴 정보가 업데이트되고 메뉴 목록에 반영된다

- **Given** 메뉴 수정 시
- **When** 필수 필드를 비우면
- **Then** "필수 필드를 입력해주세요" 검증 메시지가 표시된다

**Error Scenarios:**
- 수정 실패 시 "메뉴 수정 실패" 에러 메시지
- 이미 삭제된 메뉴 수정 시도 시 "메뉴를 찾을 수 없습니다" 메시지
- 네트워크 에러 시 재시도 옵션

---

#### US-021: 메뉴 삭제 [MVP]

**As a** 매장 운영자  
**I want** 더 이상 제공하지 않는 메뉴를 삭제하고 싶다  
**So that** 고객이 주문할 수 없도록 할 수 있다

**Acceptance Criteria:**
- **Given** 메뉴 목록에서
- **When** 메뉴의 "삭제" 버튼을 클릭하면
- **Then** "정말 삭제하시겠습니까?" 확인 팝업이 표시된다

- **Given** 삭제 확인 팝업에서
- **When** "확인"을 클릭하면
- **Then** 메뉴가 삭제되고 메뉴 목록에서 제거된다

- **Given** 메뉴가 삭제되었을 때
- **When** 삭제가 완료되면
- **Then** "메뉴가 삭제되었습니다" 성공 메시지가 표시된다

**Error Scenarios:**
- 삭제 실패 시 "메뉴 삭제 실패" 에러 메시지
- 이미 삭제된 메뉴 삭제 시도 시 "메뉴를 찾을 수 없습니다" 메시지
- 네트워크 에러 시 재시도 옵션

---

#### US-022: 메뉴 노출 순서 조정 [MVP]

**As a** 매장 운영자  
**I want** 메뉴의 표시 순서를 조정하고 싶다  
**So that** 인기 메뉴를 상단에 배치할 수 있다

**Acceptance Criteria:**
- **Given** 메뉴 목록에서
- **When** 메뉴의 드래그 핸들을 잡고 이동하면
- **Then** 메뉴의 순서가 변경되고 즉시 저장된다

- **Given** 메뉴 순서가 변경되었을 때
- **When** 변경이 완료되면
- **Then** 고객 화면에도 변경된 순서가 반영된다

**Error Scenarios:**
- 순서 변경 실패 시 이전 순서로 롤백 및 에러 메시지
- 네트워크 에러 시 재시도 옵션

---

## 비기능 요구사항

### Epic 3: 시스템 품질 속성

#### US-023: 실시간 업데이트 성능 [MVP]

**As a** 매장 운영자  
**I want** 새로운 주문이 2초 이내에 화면에 표시되기를 원한다  
**So that** 신속하게 주문을 처리할 수 있다

**Acceptance Criteria:**
- **Given** 고객이 주문을 생성했을 때
- **When** 주문이 서버에 저장되면
- **Then** 2초 이내에 관리자 대시보드에 표시된다

- **Given** SSE 연결이 활성화되어 있을 때
- **When** 주문 상태가 변경되면
- **Then** 1초 이내에 고객 화면에 반영된다

**Error Scenarios:**
- 네트워크 지연으로 2초 초과 시 경고 로그 기록
- SSE 연결 불안정 시 폴링 방식으로 대체

---

#### US-024: 멀티 테넌트 데이터 격리 [MVP]

**As a** 시스템 관리자  
**I want** 각 레스토랑의 데이터가 완전히 격리되기를 원한다  
**So that** 다른 레스토랑의 데이터가 노출되지 않는다

**Acceptance Criteria:**
- **Given** 여러 레스토랑이 시스템을 사용할 때
- **When** 각 레스토랑이 데이터를 조회하면
- **Then** 자신의 매장 ID에 해당하는 데이터만 조회된다

- **Given** 관리자가 로그인했을 때
- **When** 대시보드에 접근하면
- **Then** 해당 매장의 테이블과 주문만 표시된다

- **Given** 고객이 주문을 생성할 때
- **When** 주문이 저장되면
- **Then** 매장 ID가 자동으로 포함되어 저장된다

**Error Scenarios:**
- 잘못된 매장 ID로 데이터 접근 시도 시 403 Forbidden 에러
- 매장 ID 누락 시 400 Bad Request 에러

---

#### US-025: 메뉴 데이터 캐싱 [MVP]

**As a** 고객  
**I want** 메뉴가 빠르게 로딩되기를 원한다  
**So that** 대기 시간 없이 주문을 시작할 수 있다

**Acceptance Criteria:**
- **Given** 메뉴 데이터가 서버에 캐싱되어 있을 때
- **When** 고객이 메뉴 화면에 접근하면
- **Then** 캐시된 데이터가 즉시 반환된다

- **Given** 관리자가 메뉴를 수정했을 때
- **When** 메뉴가 업데이트되면
- **Then** 캐시가 무효화되고 새로운 데이터가 캐싱된다

- **Given** 카테고리 및 테이블 정보가 캐싱되어 있을 때
- **When** 고객 또는 관리자가 접근하면
- **Then** 캐시된 정적 데이터가 빠르게 제공된다

**Error Scenarios:**
- 캐시 미스 시 데이터베이스에서 직접 조회
- 캐시 무효화 실패 시 TTL로 자동 만료

---

## 스토리 요약

### 고객 주문 프로세스 (8개 스토리)
- US-001: 테이블 태블릿 자동 로그인
- US-002: 메뉴 카테고리별 조회
- US-003: 메뉴 상세 정보 확인
- US-004: 장바구니에 메뉴 추가
- US-005: 장바구니 내용 관리
- US-006: 장바구니 지속성 유지
- US-007: 주문 생성 및 확정
- US-008: 주문 내역 조회

### 관리자 운영 프로세스 (14개 스토리)
- US-009: 관리자 로그인
- US-010: 실시간 주문 대시보드 모니터링
- US-011: 주문 상세 정보 확인
- US-012: 주문 상태 변경
- US-013: SSE 실시간 업데이트
- US-014: 테이블 태블릿 초기 설정
- US-015: 주문 삭제 (직권 수정)
- US-016: 테이블 세션 종료 (매장 이용 완료)
- US-017: 과거 주문 내역 조회
- US-018: 메뉴 조회
- US-019: 메뉴 등록
- US-020: 메뉴 수정
- US-021: 메뉴 삭제
- US-022: 메뉴 노출 순서 조정

### 비기능 요구사항 (3개 스토리)
- US-023: 실시간 업데이트 성능
- US-024: 멀티 테넌트 데이터 격리
- US-025: 메뉴 데이터 캐싱

**총 25개 User Stories - 모두 [MVP] 범위**
