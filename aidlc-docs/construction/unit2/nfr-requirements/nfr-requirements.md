# NFR Requirements - Unit 2: Admin Frontend

## 1. 확장성 요구사항 (Scalability)

### SC-001: 동시 접속자 수
- **요구사항**: 동시 접속 관리자 20-100명 지원
- **근거**: 대형 체인점 규모
- **구현 방안**:
  - 클라이언트 사이드 렌더링 (CSR)으로 서버 부하 분산
  - React Query 캐싱으로 불필요한 API 호출 최소화
  - SSE 연결당 서버 리소스 최소화

### SC-002: 데이터 증가 대응
- **요구사항**: 주문 데이터 증가에도 성능 유지
- **근거**: 시간이 지날수록 주문 내역 누적
- **구현 방안**:
  - 과거 주문 내역 페이지네이션 (20개씩)
  - 대시보드는 활성 주문만 표시
  - 메뉴 데이터 캐싱 (5분)

---

## 2. 성능 요구사항 (Performance)

### PF-001: 페이지 로딩 시간
- **요구사항**: 초기 로딩 5초 이내
- **측정 기준**: First Contentful Paint (FCP) < 5초
- **구현 방안**:
  - Code splitting (React.lazy)
  - 이미지 최적화 (WebP, lazy loading)
  - 번들 크기 최소화 (Tree shaking)

### PF-002: API 응답 시간
- **요구사항**: API 응답 2초 이내
- **측정 기준**: 95 percentile < 2초
- **구현 방안**:
  - React Query 자동 재시도 (3회)
  - 낙관적 업데이트 (Optimistic Update)
  - 로딩 인디케이터 표시

### PF-003: SSE 연결 안정성
- **요구사항**: 90% 연결 유지
- **측정 기준**: 연결 유지 시간 / 전체 시간 > 90%
- **구현 방안**:
  - 지수 백오프 재연결 (최대 5회, 16초)
  - 폴링 백업 (10초 간격)
  - 수동 새로고침 버튼 제공

### PF-004: 렌더링 성능
- **요구사항**: 60 FPS 유지
- **측정 기준**: 프레임 드롭 최소화
- **구현 방안**:
  - React.memo로 불필요한 리렌더링 방지
  - useMemo/useCallback 활용
  - 가상 스크롤 (과거 내역 목록)

---

## 3. 가용성 요구사항 (Availability)

### AV-001: 서비스 가용성
- **요구사항**: 95% 이상 가용성
- **측정 기준**: Uptime > 95%
- **구현 방안**:
  - SSE 연결 실패 시 폴링 모드 자동 전환
  - 에러 발생 시 재시도 메커니즘
  - 오프라인 감지 및 알림

### AV-002: 장애 복구
- **요구사항**: 네트워크 장애 시 자동 복구
- **측정 기준**: 복구 시간 < 30초
- **구현 방안**:
  - SSE 자동 재연결
  - React Query 자동 재시도
  - 로컬 상태 보존 (localStorage)

---

## 4. 보안 요구사항 (Security)

### SEC-001: 전송 보안
- **요구사항**: HTTPS 통신 필수
- **근거**: 관리자 인증 정보 보호
- **구현 방안**:
  - 프로덕션 환경 HTTPS 강제
  - Mixed Content 차단

### SEC-002: 인증 및 권한
- **요구사항**: JWT 토큰 기반 인증
- **근거**: Stateless 인증, 확장성
- **구현 방안**:
  - JWT 토큰 localStorage 저장
  - 토큰 만료 시 자동 갱신
  - 401 에러 시 자동 로그아웃

### SEC-003: XSS 방어
- **요구사항**: XSS 공격 방어
- **근거**: 사용자 입력 데이터 처리
- **구현 방안**:
  - React의 기본 XSS 방어 활용
  - dangerouslySetInnerHTML 사용 금지
  - 입력 데이터 검증

### SEC-004: CSRF 방어
- **요구사항**: CSRF 공격 방어
- **근거**: 상태 변경 API 보호
- **구현 방안**:
  - SameSite Cookie 설정 (서버)
  - CSRF 토큰 (서버)
  - Origin 헤더 검증 (서버)

---

## 5. 사용성 요구사항 (Usability)

### US-001: 브라우저 지원
- **요구사항**: Chrome/Edge/Safari/Firefox 최신 2개 버전
- **근거**: 주요 브라우저 커버리지
- **구현 방안**:
  - Babel 트랜스파일링
  - Polyfill 자동 추가
  - 브라우저 호환성 테스트

### US-002: 반응형 디자인
- **요구사항**: PC + 태블릿 + 모바일 지원 (320px 이상)
- **근거**: 다양한 디바이스 접근성
- **구현 방안**:
  - Material-UI의 반응형 Grid 시스템
  - 미디어 쿼리 (breakpoints: 320px, 768px, 1024px, 1920px)
  - 모바일 우선 설계 (Mobile First)

### US-003: 접근성 (Accessibility)
- **요구사항**: WCAG 2.1 AA 준수
- **근거**: 웹 접근성 표준
- **구현 방안**:
  - 시맨틱 HTML 사용
  - ARIA 속성 추가
  - 키보드 네비게이션 지원
  - 색상 대비 4.5:1 이상
  - 스크린 리더 지원

### US-004: 사용자 피드백
- **요구사항**: 모든 액션에 즉각적인 피드백
- **근거**: 사용자 경험 향상
- **구현 방안**:
  - 로딩 인디케이터 (Spinner, Skeleton)
  - 성공/에러 알림 (Toast, Snackbar)
  - 버튼 비활성화 (로딩 중)

---

## 6. 신뢰성 요구사항 (Reliability)

### RL-001: 에러 처리
- **요구사항**: 모든 에러 상황 처리
- **근거**: 사용자 경험 보호
- **구현 방안**:
  - Error Boundary (React)
  - Try-catch 블록
  - 사용자 친화적 에러 메시지

### RL-002: 에러 모니터링
- **요구사항**: 프로덕션 에러 추적
- **근거**: 문제 조기 발견 및 해결
- **구현 방안**:
  - Sentry 통합
  - 에러 로그 수집
  - 알림 설정 (Critical 에러)

### RL-003: 데이터 일관성
- **요구사항**: SSE와 API 데이터 일관성 유지
- **근거**: 중복 업데이트 방지
- **구현 방안**:
  - 타임스탬프 비교
  - 낙관적 업데이트 롤백
  - React Query 캐시 무효화

---

## 7. 유지보수성 요구사항 (Maintainability)

### MT-001: 코드 품질
- **요구사항**: 일관된 코드 스타일
- **근거**: 팀 협업 및 유지보수
- **구현 방안**:
  - ESLint + Prettier
  - TypeScript (타입 안정성)
  - 컴포넌트 단위 개발

### MT-002: 테스트 커버리지
- **요구사항**: 50-80% 테스트 커버리지
- **근거**: 코드 품질 보장
- **구현 방안**:
  - Jest + React Testing Library
  - 단위 테스트 (컴포넌트, Hook)
  - 통합 테스트 (API 통신)

### MT-003: 문서화
- **요구사항**: 코드 및 API 문서화
- **근거**: 온보딩 및 유지보수
- **구현 방안**:
  - JSDoc 주석
  - README.md (설치, 실행, 배포)
  - Storybook (컴포넌트 문서)

---

## 8. 운영 요구사항 (Operational)

### OP-001: 빌드 및 배포
- **요구사항**: 자동화된 빌드 및 배포
- **근거**: 개발 효율성
- **구현 방안**:
  - Vite 또는 Create React App
  - 환경 변수 관리 (.env)
  - 프로덕션 빌드 최적화

### OP-002: 로깅
- **요구사항**: 클라이언트 로그 수집
- **근거**: 디버깅 및 모니터링
- **구현 방안**:
  - console.log (개발 환경)
  - Sentry (프로덕션 환경)
  - 로그 레벨 (info, warn, error)

---

## 9. 성능 벤치마크

### 목표 지표
| 지표 | 목표 | 측정 방법 |
|------|------|-----------|
| 초기 로딩 시간 | < 5초 | Lighthouse FCP |
| API 응답 시간 | < 2초 | Network 탭 |
| SSE 연결 유지율 | > 90% | 연결 시간 / 전체 시간 |
| 프레임 레이트 | 60 FPS | Chrome DevTools Performance |
| 번들 크기 | < 500KB (gzip) | webpack-bundle-analyzer |
| 테스트 커버리지 | 50-80% | Jest coverage |

---

## 10. 제약사항 (Constraints)

### CN-001: 기술 스택 제약
- React 18+ 필수
- Material-UI 사용
- TypeScript 권장 (선택)

### CN-002: 브라우저 제약
- IE11 미지원
- 최신 2개 버전만 지원

### CN-003: 네트워크 제약
- SSE 연결 불안정 시 폴링 백업
- 오프라인 모드 미지원

### CN-004: 디바이스 제약
- 최소 화면 크기: 320px
- 터치 인터페이스 지원

---

## 11. 우선순위

### 높음 (High)
- SEC-001, SEC-002 (보안)
- PF-001, PF-002, PF-003 (성능)
- AV-001, AV-002 (가용성)
- RL-001 (에러 처리)

### 중간 (Medium)
- US-001, US-002, US-003 (사용성)
- SC-001, SC-002 (확장성)
- RL-002, RL-003 (신뢰성)
- MT-001, MT-002 (유지보수성)

### 낮음 (Low)
- US-004 (사용자 피드백)
- MT-003 (문서화)
- OP-001, OP-002 (운영)
