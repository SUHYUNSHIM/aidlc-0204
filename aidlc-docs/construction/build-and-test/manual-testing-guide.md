# Manual Testing Guide - Customer Frontend

## 개발 서버 정보
- **URL**: http://localhost:5173/
- **상태**: ✅ 실행 중
- **시작 시간**: 1.2초
- **HMR**: 활성화 (자동 새로고침)

---

## 🧪 수동 테스트 시나리오

### 시나리오 1: 로그인 플로우 테스트

#### 1.1 페이지 접속
1. 브라우저에서 `http://localhost:5173/` 접속
2. 로그인 페이지가 표시되는지 확인

**예상 결과**:
- ✅ "테이블 로그인" 제목 표시
- ✅ 매장 ID, 테이블 번호, 테이블 비밀번호 입력 필드 표시
- ✅ "로그인" 버튼 표시

#### 1.2 자동 로그인 테스트
1. 브라우저 개발자 도구 열기 (F12)
2. Application > Local Storage 확인
3. `customer_session` 키가 있는지 확인

**예상 결과**:
- ✅ 세션이 없으면 로그인 페이지 유지
- ✅ 유효한 세션이 있으면 메뉴 페이지로 자동 리다이렉트

#### 1.3 수동 로그인 테스트
**테스트 데이터** (백엔드 API가 없으므로 에러 예상):
- 매장 ID: `store-1`
- 테이블 번호: `1`
- 테이블 비밀번호: `password123`

**단계**:
1. 매장 ID 입력
2. 테이블 번호 입력
3. 테이블 비밀번호 입력
4. "로그인" 버튼 클릭

**예상 결과** (백엔드 없음):
- ⚠️ 네트워크 에러 메시지 표시
- ⚠️ "로그인에 실패했습니다" 메시지 표시

**예상 결과** (백엔드 있음):
- ✅ 로그인 성공
- ✅ 메뉴 페이지로 리다이렉트
- ✅ localStorage에 세션 저장

---

### 시나리오 2: 메뉴 조회 플로우 테스트

#### 2.1 메뉴 페이지 접속
**URL**: `http://localhost:5173/customer/menu`

**예상 결과** (백엔드 없음):
- ⚠️ "메뉴를 불러오는데 실패했습니다" 메시지 표시

**예상 결과** (백엔드 있음):
- ✅ "메뉴" 제목 표시
- ✅ 카테고리 필터 버튼 표시 (전체, 메인, 사이드 등)
- ✅ 메뉴 그리드 표시
- ✅ 각 메뉴 카드에 이미지, 이름, 설명, 가격 표시
- ✅ "장바구니에 추가" 버튼 표시

#### 2.2 카테고리 필터링 테스트
1. "전체" 버튼 클릭 → 모든 메뉴 표시
2. 특정 카테고리 버튼 클릭 → 해당 카테고리 메뉴만 표시

**예상 결과**:
- ✅ 선택된 카테고리 버튼 활성화 스타일 적용
- ✅ 필터링된 메뉴만 표시

#### 2.3 이미지 지연 로딩 테스트
1. 페이지 스크롤
2. 뷰포트에 들어오는 이미지 확인

**예상 결과**:
- ✅ 이미지가 뷰포트에 들어올 때 로딩
- ✅ 부드러운 페이드인 효과

---

### 시나리오 3: 장바구니 플로우 테스트

#### 3.1 장바구니에 메뉴 추가
1. 메뉴 페이지에서 "장바구니에 추가" 버튼 클릭
2. 같은 메뉴를 여러 번 클릭

**예상 결과**:
- ✅ 첫 클릭: 장바구니에 수량 1로 추가
- ✅ 추가 클릭: 수량 증가
- ✅ localStorage에 장바구니 저장

#### 3.2 품절 메뉴 처리
1. 품절 메뉴의 "품절" 버튼 클릭 시도

**예상 결과**:
- ✅ 버튼 비활성화
- ✅ "품절된 메뉴입니다" 알림 표시

#### 3.3 장바구니 페이지 접속
**URL**: `http://localhost:5173/customer/cart`

**예상 결과** (빈 장바구니):
- ✅ "장바구니가 비어있습니다" 메시지 표시
- ✅ "메뉴 보러가기" 버튼 표시

**예상 결과** (장바구니에 항목 있음):
- ✅ "장바구니" 제목 표시
- ✅ 각 항목에 이름, 가격, 수량 표시
- ✅ 수량 변경 버튼 (+/-) 표시
- ✅ "삭제" 버튼 표시
- ✅ 총 수량 및 총 금액 표시
- ✅ "계속 쇼핑하기" 버튼 표시
- ✅ "주문하기" 버튼 표시

#### 3.4 수량 변경 테스트
1. "+" 버튼 클릭 → 수량 증가
2. "-" 버튼 클릭 → 수량 감소
3. 수량이 1일 때 "-" 버튼 클릭 → 항목 제거

**예상 결과**:
- ✅ 수량 즉시 업데이트
- ✅ 총 금액 자동 재계산
- ✅ localStorage 자동 동기화

#### 3.5 항목 삭제 테스트
1. "삭제" 버튼 클릭

**예상 결과**:
- ✅ 항목 즉시 제거
- ✅ 총 금액 자동 재계산
- ✅ localStorage 자동 동기화

---

### 시나리오 4: 주문 생성 플로우 테스트

#### 4.1 주문 제출
1. 장바구니 페이지에서 "주문하기" 버튼 클릭

**예상 결과** (백엔드 없음):
- ⚠️ "주문 생성에 실패했습니다" 알림 표시

**예상 결과** (백엔드 있음):
- ✅ 주문 생성 API 호출
- ✅ 주문 확인 페이지로 리다이렉트
- ✅ 장바구니 초기화

#### 4.2 주문 확인 페이지
**URL**: `http://localhost:5173/customer/order-confirmation/:orderId`

**예상 결과**:
- ✅ "주문이 완료되었습니다!" 메시지 표시
- ✅ 주문번호 표시
- ✅ 주문 시간 표시
- ✅ 주문 항목 목록 표시
- ✅ 총 금액 표시
- ✅ 예상 준비 시간 표시 (있는 경우)
- ✅ "5초 후 메뉴 페이지로 이동합니다..." 메시지 표시

#### 4.3 자동 리다이렉트 테스트
1. 주문 확인 페이지에서 5초 대기

**예상 결과**:
- ✅ 5초 후 자동으로 메뉴 페이지로 이동

---

### 시나리오 5: 주문 내역 플로우 테스트

#### 5.1 주문 내역 페이지 접속
**URL**: `http://localhost:5173/customer/order-history`

**예상 결과** (백엔드 없음):
- ⚠️ "주문 내역을 불러오는데 실패했습니다" 메시지 표시

**예상 결과** (주문 내역 없음):
- ✅ "주문 내역이 없습니다" 메시지 표시
- ✅ "첫 주문을 시작해보세요!" 메시지 표시

**예상 결과** (주문 내역 있음):
- ✅ "주문 내역" 제목 표시
- ✅ "5분마다 자동으로 업데이트됩니다" 안내 메시지
- ✅ 각 주문 카드에 주문번호, 상태, 시간, 항목, 총 금액 표시
- ✅ 주문 상태별 스타일링 (pending, preparing, completed)

#### 5.2 자동 폴링 테스트
1. 주문 내역 페이지에서 5분 대기
2. 네트워크 탭에서 API 호출 확인

**예상 결과**:
- ✅ 5분마다 자동으로 주문 내역 재조회
- ✅ 새로운 주문 또는 상태 변경 자동 반영

---

### 시나리오 6: 오프라인/온라인 전환 테스트

#### 6.1 오프라인 시뮬레이션
1. 브라우저 개발자 도구 열기 (F12)
2. Network 탭 → "Offline" 체크박스 선택
3. 메뉴 페이지 새로고침

**예상 결과**:
- ⚠️ 네트워크 에러 메시지 표시
- ⚠️ 재시도 로직 작동 (최대 3회)

#### 6.2 온라인 복구
1. "Offline" 체크박스 해제
2. 자동 refetch 확인

**예상 결과**:
- ✅ 자동으로 데이터 재조회
- ✅ 정상 데이터 표시

---

### 시나리오 7: 세션 만료 테스트

#### 7.1 세션 만료 시뮬레이션
1. 브라우저 개발자 도구 열기 (F12)
2. Application > Local Storage
3. `customer_session` 값의 `expiresAt`을 과거 시간으로 변경
4. 페이지 새로고침

**예상 결과**:
- ✅ 자동으로 로그인 페이지로 리다이렉트
- ✅ localStorage에서 세션 제거

#### 7.2 401 에러 처리
1. API 호출 시 401 에러 발생 시뮬레이션

**예상 결과**:
- ✅ 자동으로 로그아웃
- ✅ 로그인 페이지로 리다이렉트

---

### 시나리오 8: 에러 경계 테스트

#### 8.1 컴포넌트 에러 시뮬레이션
1. 브라우저 개발자 도구 Console에서 에러 발생
2. ErrorBoundary 작동 확인

**예상 결과**:
- ✅ "문제가 발생했습니다" 메시지 표시
- ✅ "새로고침" 버튼 표시
- ✅ 에러 로그 콘솔에 출력

---

## 🔍 브라우저 개발자 도구 체크리스트

### Console 탭
- [ ] 에러 메시지 없음
- [ ] 경고 메시지 최소화
- [ ] API 호출 로그 확인

### Network 탭
- [ ] API 요청 확인 (메뉴 조회, 주문 생성 등)
- [ ] 응답 시간 확인 (< 1초)
- [ ] 에러 응답 확인 (401, 404, 500 등)

### Application 탭
- [ ] localStorage 확인
  - `customer_session`: 세션 정보
  - `customer_cart`: 장바구니 정보
- [ ] 암호화된 데이터 확인

### Performance 탭
- [ ] 페이지 로딩 시간 확인 (< 3초)
- [ ] 렌더링 성능 확인
- [ ] 메모리 누수 확인

---

## 📱 반응형 테스트

### 모바일 뷰 (< 768px)
1. 브라우저 개발자 도구 → Device Toolbar (Ctrl+Shift+M)
2. iPhone 12 Pro 선택
3. 모든 페이지 확인

**체크리스트**:
- [ ] 레이아웃 정상 표시
- [ ] 버튼 터치 가능
- [ ] 텍스트 가독성
- [ ] 이미지 크기 조정

### 태블릿 뷰 (768px ~ 1024px)
1. iPad 선택
2. 모든 페이지 확인

**체크리스트**:
- [ ] 레이아웃 정상 표시
- [ ] 그리드 레이아웃 적절
- [ ] 여백 적절

---

## ✅ 테스트 완료 체크리스트

### 기능 테스트
- [ ] 로그인 플로우
- [ ] 메뉴 조회 및 필터링
- [ ] 장바구니 추가/수정/삭제
- [ ] 주문 생성
- [ ] 주문 내역 조회
- [ ] 자동 리다이렉트
- [ ] 자동 폴링

### 에러 처리
- [ ] 네트워크 에러
- [ ] 401 인증 에러
- [ ] 품절 메뉴 처리
- [ ] 빈 장바구니 처리
- [ ] 세션 만료 처리

### 성능
- [ ] 페이지 로딩 속도
- [ ] 이미지 지연 로딩
- [ ] React Query 캐싱
- [ ] localStorage 동기화

### UI/UX
- [ ] 반응형 디자인
- [ ] 버튼 상태 (활성/비활성)
- [ ] 로딩 인디케이터
- [ ] 에러 메시지 표시
- [ ] 성공 메시지 표시

---

## 🐛 알려진 이슈 및 제한사항

### 백엔드 API 없음
- ⚠️ 현재 백엔드 API가 구현되지 않아 대부분의 API 호출이 실패합니다
- ⚠️ 로그인, 메뉴 조회, 주문 생성 등이 정상 작동하지 않습니다
- ✅ 프론트엔드 로직 및 UI는 정상 작동합니다

### 테스트 방법
1. **Mock 데이터 사용**: API 호출을 모킹하여 테스트
2. **백엔드 구현 후 테스트**: Backend API 유닛 구현 후 통합 테스트

---

## 🚀 다음 단계

### 백엔드 API 구현 필요
Customer Frontend가 정상 작동하려면 다음 API가 필요합니다:

1. **인증 API**
   - `POST /api/auth/login` - 로그인
   - `POST /api/auth/extend-session` - 세션 연장
   - `POST /api/auth/logout` - 로그아웃

2. **메뉴 API**
   - `GET /api/menus?storeId={storeId}` - 메뉴 목록 조회
   - `GET /api/categories?storeId={storeId}` - 카테고리 목록 조회

3. **주문 API**
   - `POST /api/orders` - 주문 생성
   - `GET /api/orders?sessionId={sessionId}` - 주문 내역 조회
   - `GET /api/orders/{orderId}` - 특정 주문 조회

---

**작성일**: 2026-02-04
**작성자**: AI-DLC System
**개발 서버**: ✅ 실행 중 (http://localhost:5173/)
